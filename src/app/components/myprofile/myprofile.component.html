<div *ngIf="profileVisible">
<div class ="container mt-0" >
    <div class = "card" *ngIf="user">
        <div class ="card-header">My profile</div>
        <div class ="card-body">
            <div class="container mt-4">
                <div class="row">
            <div class="col-md-6">
                <div class="col text-center">
                <h1>{{this.user.username}}</h1>
                <p>Role : {{getRoleName(this.user.role.role)}}</p>
            </div>
            </div>
            <div class="col-md-6">
                <p><span class="fw-bold">First name :</span> {{this.user.first_name}}</p>
                <p><span class="fw-bold">Last name: </span>{{this.user.last_name}}</p>
                <p><span class="fw-bold">Email :</span> {{this.user.email}}</p>              
          
       
            </div>
            
        </div>
        </div>
        <button class="btn btn-secondary" (click) ="edit()">Edit</button>
    </div>


    </div>
</div>
<div *ngIf="userIdNotNull"><app-stats [selectedUserId]="selectedUserId" [selectedUsername]="selectedUsername" (closeStats)="onCloseStats()"></app-stats></div>
</div>

<div class ="container mt-0" *ngIf="isEditVisible" >
    <div class = "card">
        <div class = "card-body col-md-6 mx-auto">
            <form [formGroup]="editUserForm" (ngSubmit)="save()">
            <div class="form-group m-2 p-2">
            <label class="form-label" for="username">Username</label>
            <input class="form-control"  type="text" formControlName="username" id="username" required>
          </div>
          <div class="form-group m-2 p-2">
            <label class="form-label" for="first_name">First name</label>
            <input class="form-control" type="text" formControlName="first_name" id="first_name" required>
          </div>
          <div class="form-group m-2 p-2">
            <label class="form-label" for="last_name">Last name</label>
            <input class="form-control" type="text" formControlName="last_name" id="last_name" required>
          </div>
          <div class="form-group m-2 p-2">
            <label class="form-label" for="email">E-mail</label>
            <input class="form-control" type="text" formControlName="email" id="email" required>
          </div>
       
        <div>

            <button type="button" class="btn btn-primary me-2" type="submit" (click) ="save()">Save changes</button>
        <button class="btn btn-secondary me-2" (click) ="discard()">Discard</button>

        </div>   
    </form> 
</div>

</div>
